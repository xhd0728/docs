---
title: "Pipeline Orchestration and Structure"
icon: "diagram-project"
---

## What is a Pipeline?

In UltraRAG, a Pipeline is the script you define to describe “how an inference task should be executed.” It works like a “task schedule” or “workflow blueprint,” explicitly telling the system what to do in each step, how to do it, and what the next step should be after completion.

You can use the Pipeline to combine functions (Tools) from different modules (Servers) to build a complete, reproducible, and controllable RAG inference workflow. For example:

- Load data → Retrieve documents → Construct prompt → Call large model → Evaluate results;
- Or in multi-turn generation, decide whether to re-retrieve or stop generation based on intermediate model outputs.

The design goal of the Pipeline is to make complex RAG workflow structures clear, flexible, and modular, and to enable zero-code orchestration through YAML configuration.

## Core Components of a Pipeline

In UltraRAG, a Pipeline is written as a YAML configuration file with two top-level structures:

- servers: Used to declare all MCP Server modules involved in this workflow. Each Server corresponds to a functional module (such as retrieval, generation, etc.), with the key as the module name and the value as its path in the project.
- pipeline: Defines the task execution flow, organizes execution logic step by step, and supports control structures such as serial (sequential execution), loop, and branch judgment. Each item represents an execution step or a control node.

```yaml
# MCP Server
servers:
  sayhello: servers/sayhello

# MCP Client Pipeline
pipeline:
- sayhello.greet
```